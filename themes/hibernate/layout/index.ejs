<div class="jumbotron">
    <div class="ui container">
        <div class="ui grid stackable">
            <div class="column row" style="z-index: 1;">
                <div class="left floated column eight wide middle aligned">
                    <h1>
                        <span>Hibernate</span>
                    </h1>
                    <h2>
                        <span>Everything data.</span>
                    </h2>
                </div>
                <div class="right floated column five wide middle aligned print hidden">
                    <div id="project-news" style="display:none">
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>

<div class="page-title home">
    <div class="ui container">
        <h1>More than an ORM, discover the Hibernate galaxy.</h1>
    </div>
</div>

<div class="ui container content" id="content">
    <div class="projects">
        <div class="ui three column doubling grid stackable">
            <div class="column">
                <div class="ui raised segment orm">
                    <div class="project" style="height: 193.75px;">
                        <h3 class="ui header">
                            <a href="orm">Hibernate ORM</a>
                        </h3>
                        <p>
                            <i class="big icon database"></i>
                            Domain model persistence for relational databases.
                        </p>
                        <div class="ui right aligned basic segment">
                            <a class="ui button right labeled icon a primary" href="orm">
                                <i class="right arrow icon"></i>
                                More
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui raised segment search">
                    <div class="project" style="height: 193.75px;">
                        <h3 class="ui header">
                            <a href="search">Hibernate Search</a>
                        </h3>
                        <p>
                            <i class="big icon search"></i>
                            Full-text search for your domain model.
                        </p>
                        <div class="ui right aligned basic segment">
                            <a class="button ui right labeled icon a primary" href="search">
                                <i class="right arrow icon"></i>
                                More
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui raised segment validator">
                    <div class="project" style="height: 193.75px;">
                        <h3 class="ui header">
                            <a href="validator">Hibernate Validator</a>
                        </h3>
                        <p>
                            <i class="big icon checkmark box"></i>
                            Annotation based constraints for your domain model.
                        </p>
                        <div class="ui right aligned basic segment">
                            <a class="ui button right labeled icon a primary" href="validator">
                                <i class="right arrow icon"></i>
                                More
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui raised segment tools">
                    <div class="project" style="height: 193.75px;">
                        <h3 class="ui header">
                            <a href="reactive">Hibernate Reactive</a>
                        </h3>
                        <p>
                            <i class="big icon retweet"></i>
                            Reactive domain model persistence for relational databases.
                        </p>
                        <div class="ui right aligned basic segment">
                            <a class="ui button right labeled icon a primary" href="reactive">
                                <i class="right arrow icon"></i>
                                More
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui raised segment tools">
                    <div class="project" style="height: 193.75px;">
                        <h3 class="ui header">
                            <a href="tools">Hibernate Tools</a>
                        </h3>
                        <p>
                            <i class="big icon wrench"></i>
                            Command line tools and IDE plugins for your Hibernate usages.
                        </p>
                        <div class="ui right aligned basic segment">
                            <a class="ui button right labeled icon a primary" href="tools">
                                <i class="right arrow icon"></i>
                                More
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column">
                <div class="ui raised segment tools">
                    <div class="project" style="height: 193.75px;">
                        <h3 class="ui header">
                            <a href="others">Others</a>
                        </h3>
                        <p>
                            <i class="big icon retweet"></i>
                            Other Hibernate related projects (e.g. Hibernate OGM, Hibernate Shards).
                        </p>
                        <div class="ui right aligned basic segment">
                            <a class="ui button right labeled icon a primary" href="others">
                                <i class="right arrow icon"></i>
                                More
                            </a>
                        </div>
                    </div>
                </div>
            </div>
            <div class="column"></div>
        </div>
    </div>
</div>

<script>
    $(document).ready(function () {
        $('.project').matchHeight({byRow: false});

        $.ajax({
            url: "<%=site.data.links.news_feed_root_url%>/global.json",
            jsonpCallback: "getBlogEntries",
            dataType: "jsonp",

            // Work with the response
            success: function (data) {
                var projectNews = $('#project-news');
                var segment = $('<div class="ui raised segment" />');
                segment.append($('<h4>').text('Latest news'));
                var list = $('<div class="ui relaxed divided list" />');

                for (var i = 0; i < Math.min(data.length, 3); i++) {
                    var entry = data[i];

                    var ribbonText = 'Community';
                    var ribbonIcon = 'users';
                    if (entry.tags) {
                        if (entry.tags.includes('Newsletter')) {
                            ribbonText = 'Newsletter';
                            ribbonIcon = 'newspaper';
                        } else if (entry.tags.includes('Interview')) {
                            ribbonText = 'Community';
                            ribbonIcon = 'users';
                        } else if (entry.tags.includes('Hibernate ORM')) {
                            ribbonText = 'Hibernate ORM';
                            ribbonIcon = 'database';
                        } else if (entry.tags.includes('Hibernate Search')) {
                            ribbonText = 'Hibernate Search';
                            ribbonIcon = 'search';
                        } else if (entry.tags.includes('Hibernate OGM')) {
                            ribbonText = 'Hibernate OGM';
                            ribbonIcon = 'database';
                        } else if (entry.tags.includes('Hibernate Validator')) {
                            ribbonText = 'Hibernate Validator';
                            ribbonIcon = 'check';
                        } else if (entry.tags.includes('Hibernate Tools')) {
                            ribbonText = 'Tooling';
                            ribbonIcon = 'wrench';
                        } else if (entry.tags.includes('Hibernate Reactive')) {
                            ribbonText = 'Hibernate Reactive';
                            ribbonIcon = 'retweet';
                        }
                    }

                    var entryItem = $('<div class="item news" />');
                    var icon = $('<i class="large ' + ribbonIcon + ' middle aligned icon news-type" title="' + ribbonText + '" />');
                    entryItem.append(icon);

                    var content = $('<div class="middle aligned content" />');
                    content.append($('<a class="header" href="' + entry.url + '" />').text(entry.title));
                    entryItem.append(content);

                    list.append(entryItem);
                }

                var moreButton = $('<a href="https://in.relation.to/" class="ui button right labeled icon a primary tiny" />');
                moreButton.text('More news');
                moreButton.append($('<i class="right arrow icon" />'));
                list.append($('<div class="item news more" />').append(moreButton));

                segment.append(list);
                projectNews.html(segment);
                projectNews.fadeIn();
            }
        });
    });
</script>
